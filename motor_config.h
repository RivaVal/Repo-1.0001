//========================================================================================
//	Полная документация и рабочий код
//	1. Файл конфигурации motor_config.h
//========================================================================================



//	___________________	РАБОЧИЙ ВАРИАНТ  ________________________________



/**
 * @file motor_config.h
 * @brief Конфигурация для управления моторами QX Motor QF(2827) 2227-1800KV
 * 
 * Этот файл содержит все настраиваемые параметры для управления моторами.
 * Изменяйте значения в соответствии с вашей конкретной установкой.
 */

#ifndef MOTOR_CONFIG_H
#define MOTOR_CONFIG_H

// =============================================
// === Конфигурация аппаратных подключений ===
// =============================================

/// @brief GPIO пин для ШИМ сигнала мотора A
/// @note Подключите к входу PWM драйвера мотора A
#define MOTOR_A_PWM_PIN          25

/// @brief GPIO пин для ШИМ сигнала мотора B
/// @note Подключите к входу PWM драйвера мотора B
#define MOTOR_B_PWM_PIN          26

// =============================================
// === Параметры генерации ШИМ сигнала ===
// =============================================

/// @brief Частота ШИМ в Герцах
/// @note 16 кГц - оптимальная частота для бесколлекторных моторов
#define PWM_FREQUENCY_HZ         16000

/// @brief Разрешение таймера ШИМ (точность)
/// @note 1 МГц = 1 микросекунда на тик
#define PWM_RESOLUTION_HZ        1000000

/// @brief Период ШИМ в тиках таймера
/// @note Рассчитывается автоматически как RESOLUTION/FREQUENCY
#define PWM_PERIOD_TICKS         (PWM_RESOLUTION_HZ / PWM_FREQUENCY_HZ)

// =============================================
// === Параметры тестового режима ===
// =============================================

/// @brief Длительность теста в миллисекундах
/// @note 4 минуты = 240000 мс
#define TEST_DURATION_MS         240000

/// @brief Уровень мощности при тестировании (в процентах)
/// @note 65% - стандартный тестовый уровень
#define TEST_POWER_LEVEL         65

// =============================================
// === Параметры защиты и ограничений ===
// =============================================

/// @brief Максимально допустимый уровень мощности (в процентах)
/// @note Ограничение для защиты моторов и драйверов
#define MAX_DUTY_CYCLE           80

/// @brief Минимальный уровень мощности (в процентах)
/// @note Ниже этого значения моторы могут работать нестабильно
#define MIN_DUTY_CYCLE           10

/// @brief Длительность плавного старта/остановки (в миллисекундах)
/// @note 3 секунды для плавного изменения скорости
#define SOFT_START_DURATION_MS   3000

#endif
//========================================================================================
